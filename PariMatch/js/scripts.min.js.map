{"version":3,"sources":["scripts.js"],"names":["$","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","deviceDir","helpImgObj","stepItemObj","attr","paralaxObj","startX","offsX","startY","outWindow","offsY","ratio","window","width","animateOff","css","resize","on","event","setTimeout","speedParalax","e","each","this","mousemove","mult","pageY","pageX","paralax","num","name","index","stepItem","removeClass","find","addClass","animate","opacity"],"mappings":"AAAA,aAEAA,GAAE,WAEA,IAAIC,EAAW,CAAEC,QAAS,WAAc,OAAOC,UAAUC,UAAUC,MAAM,aAAgBC,WAAY,WAAc,OAAOH,UAAUC,UAAUC,MAAM,gBAAmBE,IAAK,WAAc,OAAOJ,UAAUC,UAAUC,MAAM,sBAAyBG,MAAO,WAAc,OAAOL,UAAUC,UAAUC,MAAM,gBAAmBI,QAAS,WAAc,OAAON,UAAUC,UAAUC,MAAM,cAAiBK,IAAK,WAAc,OAAQT,EAASC,WAAaD,EAASK,cAAgBL,EAASM,OAASN,EAASO,SAAWP,EAASQ,YAC3fE,EAAY,kBAGZC,EAAaZ,EAAE,SACfa,EAAcb,EAHH,aAKXC,EAASM,QACXI,EAAY,eAGdC,EAAWE,KAAK,MAAOH,EAAU,SAmBjC,WACE,MACMI,EAAaf,EAAE,YAMrB,IAAIgB,EAAS,EACTC,EAAQ,EACRC,EAAS,EACTC,GAAY,EACZC,EAAQ,EACRC,EATQ,MASArB,EAAEsB,QAAQC,QAMtB,SAASC,IACPT,EAAWU,IAAI,aAAc,QAC7BN,GAAY,EANdnB,EAAEsB,QAAQI,QAAO,WACfL,EAZU,MAYFrB,EAAEsB,QAAQC,WAQpBvB,EAAE,QAAQ2B,GAAG,cAAc,SAASC,GAClCC,WAAWL,EAAYM,QAGzB9B,EAAE,QAAQ2B,GAAG,cAAc,SAASI,GAClCZ,GAAY,EACZJ,EAAWiB,MAAK,WACdhC,EAAEiC,MAAMR,IAAI,aAAc,+BAC1BT,EAASE,EAASD,EAAQG,EAAQ,EAClCpB,EAAEiC,MAAMR,IAAI,YAAa,eAAeR,EAAM,OAAOG,EAAM,gBAK/DpB,EAAE,QAAQkC,WAAU,SAASN,GACtBT,IACW,GAAVD,GACFH,EAAWiB,MAAK,WACd,IACIG,EACJA,EAzCW,KAuCEnC,EAAEiC,MAAMnB,KAAK,cAG1Bd,EAAEiC,MAAMR,IAAI,YAAa,eAAeR,EAAMkB,EAAK,OAAOf,EAAMe,EAAK,aAEvEf,GAASF,EAASU,EAAMQ,OAASf,GAEjCH,EAASU,EAAMQ,MAGH,GAAVpB,GACFD,EAAWiB,MAAK,WACd,IACIG,EACJA,EArDW,KAmDEnC,EAAEiC,MAAMnB,KAAK,cAG1Bd,EAAEiC,MAAMR,IAAI,YAAa,eAAeR,EAAMkB,EAAK,OAAOf,EAAMe,EAAK,aAEvElB,GAASD,EAASY,EAAMS,OAAShB,GAEjCL,EAASY,EAAMS,UA9EvBC,GAEAzB,EAAYc,GAAG,SAAS,WACtB,IAAIY,EAQN,IAAuBC,EANrBD,EAAMvC,EAAEiC,MAAMQ,QAAU,EACxBzC,EAAE0C,yBAAyBC,YAAY,cACvC3C,EAAEiC,MAAMW,KAAK,QAAQC,SAAS,cAITL,EAHPD,EAAM,OAIpB3B,EAAWkC,QAAQ,CAACC,QAAU,GAtBd,QAsB+B,WAC7C/C,EAAEiC,MAAMnB,KAAK,MAAOH,EAAU6B,GAAMM,QAAQ,CAACC,QAAU,GAvBzC","file":"scripts.min.js","sourcesContent":["\"use strict\";\r\n\r\n$(function() {\r\n\r\n  let isMobile = { Android: function () { return navigator.userAgent.match(/Android/i); }, BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); }, iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); }, Opera: function () { return navigator.userAgent.match(/Opera Mini/i); }, Windows: function () { return navigator.userAgent.match(/IEMobile/i); }, any: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); } },\r\n      deviceDir = 'images/android/',\r\n      stepItem = '#steps li',\r\n      animateTime = '.15s',\r\n      helpImgObj = $('#help'),\r\n      stepItemObj = $(stepItem);\r\n\r\n  if (isMobile.iOS()) {\r\n    deviceDir = 'images/ios/';\r\n  }\r\n\r\n  helpImgObj.attr(\"src\", deviceDir+'1.gif'); // чтобы не было анимации затухания при старте просто меням путь к картинке без вызова changeHelpImg\r\n\r\n  paralax();\r\n\r\n  stepItemObj.on('click', function(){\r\n    let num;\r\n\r\n    num = $(this).index() + 1;\r\n    $(stepItem+' .btn_active').removeClass('btn_active');\r\n    $(this).find('.btn').addClass('btn_active');\r\n    changeHelpImg(num + '.gif');\r\n  });\r\n\r\n  function changeHelpImg(name) {\r\n    helpImgObj.animate({opacity : 0}, animateTime, function(){\r\n      $(this).attr(\"src\", deviceDir+name).animate({opacity : 1}, animateTime);\r\n    })\r\n  }\r\n\r\n  function paralax() {\r\n    const speedParalax = 300, // время возвращения элементов на место после покидания мыши окна\r\n          paralaxObj = $('.paralax'), // класс для элементов, data-layer=\"\" - номер слоя у элемента (1 - самый ближний к наблюдателю)\r\n          koefMoving = 0.75, // коеф для разных слоев, 1 слой = 0,75, 2 = 1,5, 3 = 2,25 и т.д.\r\n          rem = 0.5208, // 0,5208 - это сколько vw равен 1 rem (10px / 1920 * 100%)\r\n          paralaxY = true, // включить для координат Y\r\n          paralaxX = true; // включить для координат X\r\n        //----------------------------\r\n    let startX = 0,\r\n        offsX = 0,\r\n        startY = 0,\r\n        outWindow = true,\r\n        offsY = 0,\r\n        ratio = $(window).width() * rem;\r\n\r\n    $(window).resize(function(){\r\n      ratio = $(window).width() * rem;\r\n    })\r\n\r\n    function animateOff() {\r\n      paralaxObj.css('transition', 'none');\r\n      outWindow = false;\r\n    }\r\n    \r\n    $('body').on('mouseenter', function(event) {\r\n      setTimeout(animateOff, speedParalax * 1.5);\r\n    });\r\n\r\n    $('body').on('mouseleave', function(e) {\r\n      outWindow = true;\r\n      paralaxObj.each(function(){\r\n        $(this).css('transition', 'transform '+speedParalax+'ms ease-in-out');\r\n        startX = startY = offsX = offsY = 0;\r\n        $(this).css('transform', 'translate3d('+offsX+'rem,'+offsY+'rem,0)');\r\n      });\r\n    });\r\n\r\n\r\n    $('body').mousemove(function(event) {\r\n      if (!outWindow) {\r\n        if (startY != 0 && paralaxY) {\r\n          paralaxObj.each(function(){\r\n            let layer = +$(this).attr('data-layer'),\r\n                mult;\r\n            mult = layer * koefMoving;\r\n            $(this).css('transform', 'translate3d('+offsX*mult+'rem,'+offsY*mult+'rem,0)');\r\n          });\r\n          offsY = (startY - event.pageY) / ratio;\r\n        } else {\r\n          startY = event.pageY;\r\n        }\r\n\r\n        if (startX != 0 && paralaxX) {\r\n          paralaxObj.each(function(){\r\n            let layer = +$(this).attr('data-layer'),\r\n                mult;\r\n            mult = layer * koefMoving;\r\n            $(this).css('transform', 'translate3d('+offsX*mult+'rem,'+offsY*mult+'rem,0)');\r\n          });\r\n          offsX = (startX - event.pageX) / ratio;\r\n        } else {\r\n          startX = event.pageX;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n});"]}